<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>dina-ui docs</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>dina-ui docs</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_technology_stack">1. Technology Stack</a></li>
<li><a href="#_ui_design_guidelines">2. UI Design Guidelines</a>
<ul class="sectlevel2">
<li><a href="#_page_layout">2.1. Page Layout</a></li>
<li><a href="#_order_of_components">2.2. Order of Components</a></li>
<li><a href="#_button_bar">2.3. Button Bar</a></li>
<li><a href="#_header">2.4. Header</a></li>
</ul>
</li>
<li><a href="#_dev_tools">3. Dev tools</a>
<ul class="sectlevel2">
<li><a href="#_ide">3.1. IDE</a></li>
<li><a href="#_browser_extensions">3.2. Browser Extensions</a></li>
</ul>
</li>
<li><a href="#_getting_started">4. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_node_js_and_yarn">4.1. Node.js and Yarn</a></li>
<li><a href="#_installing_dependencies">4.2. Installing dependencies</a></li>
</ul>
</li>
<li><a href="#_react_component_types">5. React Component Types</a>
<ul class="sectlevel2">
<li><a href="#_pages">5.1. Pages</a></li>
<li><a href="#_page_layouts">5.2. Page Layouts</a></li>
<li><a href="#_dinaform">5.3. DinaForm</a></li>
<li><a href="#_form_fields">5.4. Form Fields</a></li>
</ul>
</li>
<li><a href="#_audit_revisions_ui">6. Audit / Revisions UI</a>
<ul class="sectlevel2">
<li><a href="#_adding_audit_support_for_one_resource_type">6.1. Adding audit support for one Resource Type</a></li>
<li><a href="#_adding_audit_support_for_a_users_edits_across_a_dina_module">6.2. Adding audit support for a user&#8217;s edits across a DINA module</a></li>
<li><a href="#_configuring_how_audit_data_is_displayed_in_the_show_changes_section">6.3. Configuring how audit data is displayed in the "Show Changes" section.</a></li>
</ul>
</li>
<li><a href="#_running_tests">7. Running Tests</a>
<ul class="sectlevel2">
<li><a href="#_run_all_tests">7.1. Run all tests</a></li>
<li><a href="#_run_individual_tests">7.2. Run individual tests</a></li>
</ul>
</li>
<li><a href="#_versioning">8. Versioning</a></li>
<li><a href="#_yarn_package_scripts">9. Yarn Package Scripts</a>
<ul class="sectlevel2">
<li><a href="#_top_level_directory">9.1. Top-level directory</a></li>
<li><a href="#_sub_package_directories">9.2. Sub-package directories</a></li>
</ul>
</li>
<li><a href="#_building_the_app_docker_images">10. Building the app Docker images</a></li>
<li><a href="#_react_components">11. React Components</a>
<ul class="sectlevel2">
<li><a href="#_forms">11.1. Forms</a></li>
<li><a href="#_resource_select_field_component">11.2. Resource Select Field Component</a></li>
<li><a href="#_filterbuilderfield_component">11.3. FilterBuilderField component</a></li>
</ul>
</li>
<li><a href="#_api_client">12. API Client</a>
<ul class="sectlevel2">
<li><a href="#_usequery_hook_function">12.1. useQuery Hook Function</a></li>
<li><a href="#_performing_write_operations">12.2. Performing write operations</a></li>
</ul>
</li>
<li><a href="#_internationalization">13. Internationalization</a>
<ul class="sectlevel2">
<li><a href="#_internationalization_multiple_languages_support">13.1. Internationalization / Multiple Languages Support</a></li>
</ul>
</li>
<li><a href="#_wcag_compliance_tools_setup">14. WCAG compliance tools setup</a>
<ul class="sectlevel2">
<li><a href="#_pa11y">14.1. Pa11y</a></li>
<li><a href="#_chrome_inspector">14.2. Chrome Inspector</a></li>
</ul>
</li>
<li><a href="#_pa11y_ci_automation">15. Pa11y-ci automation</a>
<ul class="sectlevel2">
<li><a href="#_follow_below_steps_in_sequence">15.1. Follow below steps in sequence</a></li>
</ul>
</li>
<li><a href="#_translation_task">16. Translation task</a>
<ul class="sectlevel2">
<li><a href="#_to_export_to_csv_file">16.1. To export to csv file</a></li>
<li><a href="#_to_import_from_translated_csv_file">16.2. To import from translated csv file</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>React based user interface for the DINA project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technology_stack">1. Technology Stack</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This application is developed using these technologies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://yarnpkg.com/">Yarn</a>: Node.js package manager</p>
</li>
<li>
<p><a href="https://www.typescriptlang.org/">TypeScript</a>: Superset of JavaScript with static types.</p>
</li>
<li>
<p><a href="https://reactjs.org/">React</a>: JavaScript library for building user interfaces.</p>
</li>
<li>
<p><a href="https://nextjs.org/">Next.js</a>: Framework for building React-based applications.</p>
</li>
<li>
<p><a href="https://getbootstrap.com/">Bootstrap</a>: CSS framework.</p>
</li>
<li>
<p><a href="https://jestjs.io/">Jest</a>: Testing framework.</p>
</li>
<li>
<p><a href="https://www.docker.com/">Docker</a>: Application containerization</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ui_design_guidelines">2. UI Design Guidelines</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_page_layout">2.1. Page Layout</h3>
<div class="imageblock">
<div class="content">
<img src="./images/dina_design_guidelines/DINA_design_guidelines_page_layout.png" alt="Navigation" width="button bar" height="header">
</div>
</div>
<div class="paragraph">
<p>All page components should be aligned with the navigation and footer elements. The <code>PageLayout</code> component should be used as the root element to enforce this structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;PageLayout titleId="splitSubsampleTitle" buttonBarContent={buttonBar}&gt;
  ... Main content of the page
&lt;/PageLayout&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_order_of_components">2.2. Order of Components</h3>
<div class="imageblock">
<div class="content">
<img src="./images/dina_design_guidelines/DINA_design_guidelines_order_components.png" alt="Navigation" width="button bar" height="header">
</div>
</div>
<div class="paragraph">
<p>The components on a page should follow this order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigation Bar</p>
</li>
<li>
<p>Header</p>
</li>
<li>
<p>Button Bar</p>
</li>
<li>
<p>Main Content</p>
</li>
<li>
<p>Footer</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_button_bar">2.3. Button Bar</h3>
<div class="imageblock">
<div class="content">
<img src="./images/dina_design_guidelines/DINA_design_guidelines_button_bar.png" alt="DINA design guidelines button bar">
</div>
</div>
<div class="paragraph">
<p>The Back button should always be positioned on the left side and displayed as a link since it serves as a navigation element.</p>
</div>
<div class="paragraph">
<p>Action buttons like <code>Edit</code>, <code>Create</code>, <code>Delete</code> and <code>Revisions</code> should be placed on the right side.</p>
</div>
</div>
<div class="sect2">
<h3 id="_header">2.4. Header</h3>
<div class="imageblock">
<div class="content">
<img src="./images/dina_design_guidelines/DINA_design_guidelines_header.png" alt="DINA design guidelines header">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This is the main header text, depending on the page it will display:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>List page: The plural name of the entity (eg. Assemblages)</p>
</li>
<li>
<p>View/Edit page: The name/identifier of the entity itself being edited. UUIDs should only be used if a name/identifier is not set.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Tooltips can be added to the right to describe the entity itself. Should be referenced from the DINA user docs.</p>
</li>
<li>
<p>Group name will be displayed on the right only for viewing and editing records. It should be all capital letters.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dev_tools">3. Dev tools</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ide">3.1. IDE</h3>
<div class="paragraph">
<p><a href="https://code.visualstudio.com/">Visual Studio Code</a> is recommended for development.</p>
</div>
<div class="sect3">
<h4 id="_recommended_extensions">3.1.1. Recommended Extensions</h4>
<div class="paragraph">
<p>The following extensions are recommended for a better development experience. You can install them using the following terminal commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sh" data-lang="sh">code --install-extension esbenp.prettier-vscode
code --install-extension dbaeumer.vscode-eslint
code --install-extension firsttris.vscode-jest-runner
code --install-extension joaompinto.asciidoctor-vscode</code></pre>
</div>
</div>
<div class="paragraph">
<p>These extensions are also included in the <code>.vscode/extensions.json</code> file. They will appear in the Extensions view when you open the project in Visual Studio Code under the <code>Recommended</code> section.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_browser_extensions">3.2. Browser Extensions</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/facebook/react-devtools">React Developer Tools</a> Lets you inspect the React component hierarchy.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">4. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before starting, you will need to setup your dev environment:</p>
</div>
<div class="sect2">
<h3 id="_node_js_and_yarn">4.1. Node.js and Yarn</h3>
<div class="paragraph">
<p>See dina-local-deployment <a href="https://aafc-bicoe.github.io/dina-local-deployment/#_prerequisites">prerequisites</a></p>
</div>
<div class="paragraph">
<p>You can check which versions you currently have installed with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>node -v
yarn -v</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_dependencies">4.2. Installing dependencies</h3>
<div class="paragraph">
<p>After you have downloaded all of the required tools, you will need to install the required dependencies needed to run the app.</p>
</div>
<div class="paragraph">
<p>It&#8217;s a good idea to run this command when checking out a new branch since the dependencies might have changed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>yarn</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_react_component_types">5. React Component Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are some common patterns we use when working with React components:</p>
</div>
<div class="sect2">
<h3 id="_pages">5.1. Pages</h3>
<div class="paragraph">
<p>Stored in "packages/dina-ui/pages". The folder path and filename correspond to the pages&#8217;s URL, which is automatically routed by Next.js.</p>
</div>
<div class="paragraph">
<p>More info: <a href="https://nextjs.org/docs/basic-features/pages" class="bare">https://nextjs.org/docs/basic-features/pages</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_page_layouts">5.2. Page Layouts</h3>
<div class="paragraph">
<p>e.g. ViewPageLayout and ListPageLayout. If a set of pages with a similar layout exists we can make
page layout components to avoid duplicating code across page Components.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dinaform">5.3. DinaForm</h3>
<div class="paragraph">
<p>The main way to create forms in dina-ui. It&#8217;s a wrapper around <a href="https://jaredpalmer.com/formik/">Formik</a> with
some added props and error message handling.</p>
</div>
</div>
<div class="sect2">
<h3 id="_form_fields">5.4. Form Fields</h3>
<div class="paragraph">
<p>Usually stored in "packages/common-ui/lib/formik-connected" with the Component name ending in "Field".
These are form inputs with a "name" prop for the property in the form data the field edits.</p>
</div>
<div class="paragraph">
<p>e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;DinaForm initialValues={{ myField: "initial text" }}&gt;
  &lt;TextField name="myField" className="col-md-6" /&gt;
&lt;/DinaForm&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_audit_revisions_ui">6. Audit / Revisions UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The "revisions" pages show edit history of specific records and user activity.</p>
</div>
<div class="paragraph">
<p>Audit records are fetched from the back-end which is implemented using <a href="http://google.ca">Javers</a>.
See <a href="https://github.com/AAFC-BICoE/dina-base-api/blob/master/docs/auditing.adoc">the DINA back-and auditing docs</a>.</p>
</div>
<div class="sect2">
<h3 id="_adding_audit_support_for_one_resource_type">6.1. Adding audit support for one Resource Type</h3>
<div class="paragraph">
<p>For tracking changes to a single record. This page should be linked to from the record&#8217;s details page.</p>
</div>
<div class="paragraph">
<p>You can re-use the RevisionsPage component to create a revisions page for the specified resource:</p>
</div>
<div class="paragraph">
<p>Example from dina-ui/pages/collection/material-sample/revisions.tsx:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { COLLECTION_MODULE_REVISION_ROW_CONFIG } from "../../../components/revisions/revision-modules";
import { RevisionsPage } from "../../../components/revisions/RevisionsPageLayout";

export default () =&gt; (
  &lt;RevisionsPage
    // The API route to the Javers snapshot list
    auditSnapshotPath="collection-api/audit-snapshot"
    // URL to the details page
    detailsPageLink="/collection/material-sample/view?id="
    // Query for the current state of the record
    queryPath="collection-api/material-sample"
    // The JSONAPI resource "type"
    resourceType="material-sample"
    // The row configs are specific to each module (Collection, Object Store, Agent, etc.)
    revisionRowConfigsByType={COLLECTION_MODULE_REVISION_ROW_CONFIG}
    // The field on the resource that gives the name. Usuallu this field is called "name"
    nameField="materialSampleName"
  /&gt;
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_audit_support_for_a_users_edits_across_a_dina_module">6.2. Adding audit support for a user&#8217;s edits across a DINA module</h3>
<div class="paragraph">
<p>For tracking all changes to any record by a user. This page should be linked to from the main UI navigation.</p>
</div>
<div class="paragraph">
<p>There is a separate "revisions-by-user" page per DINA module (Collection, Object Store, Agent, etc.) because the
back-end is a separate application for each DINA module. There is no way to retrieve a user&#8217;s activity across all
multiple back-ends in one query.</p>
</div>
<div class="paragraph">
<p>You can re-use the RevisionsByUserPage component to create a revisions page for the specified DINA module:</p>
</div>
<div class="paragraph">
<p>Example from dina-ui/pages/collection/revisions-by-user.tsx:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { COLLECTION_MODULE_REVISION_ROW_CONFIG } from "../../components/revisions/revision-modules";
import RevisionsByUserPage from "../../components/revision-by-user/CommonRevisionsByUserPage";

export default function CollectionRevisionByUserPage() {
  return (
    &lt;RevisionsByUserPage
      // The API route to the Javers snapshot list
      snapshotPath="collection-api/audit-snapshot"
      // The row configs are specific to each module (Collection, Object Store, Agent, etc.)
      revisionRowConfigsByType={COLLECTION_MODULE_REVISION_ROW_CONFIG}
    /&gt;
  );
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_how_audit_data_is_displayed_in_the_show_changes_section">6.3. Configuring how audit data is displayed in the "Show Changes" section.</h3>
<div class="paragraph">
<p>The back-end provides historical data as unstructured JSON (in the "state" field), so the UI might not always
be able to show a good looking UI based on the data it&#8217;s given because the data schema is unknown.
Simple string or number fields are easily rendered as-is, but the last-resort fallback for an unknown object structure
is to show stringified JSON in the UI. The Revision UI components are written in a way that unstructured data
is displayed generically by looping through the key-value pairs of the given JSON, but specific field names
can be manually overwritten in the code to improve the way that the UI displays those fields.</p>
</div>
<div class="paragraph">
<p>All edited fields will be rendered generically in the Revisions UI, but to manually register fields to be
rendered in a specific way, go to:</p>
</div>
<div class="paragraph">
<p>dina-ui/components/revisions/revision-modules.ts</p>
</div>
<div class="paragraph">
<p>and add your typename into the map for the correct DINA module.</p>
</div>
<div class="paragraph">
<p>For examples of types added:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { RevisionRowConfigsByType } from "./revision-row-config";
import { COLLECTING_EVENT_REVISION_ROW_CONFIG } from "./revision-row-configs/collectingevent-revision-row-config";
import { MATERIAL_SAMPLE_REVISION_ROW_CONFIG } from "./revision-row-configs/material-sample-revision-row-configs";
import { METADATA_REVISION_ROW_CONFIG } from "./revision-row-configs/metadata-revision-row-config";

/** Custom revision row behavior for Object Store Resources. */
export const OBJECT_STORE_MODULE_REVISION_ROW_CONFIG: RevisionRowConfigsByType = {
  metadata: METADATA_REVISION_ROW_CONFIG
};

/** Custom revision row behavior for Object Store Resources. */
export const COLLECTION_MODULE_REVISION_ROW_CONFIG: RevisionRowConfigsByType = {
  "collecting-event": COLLECTING_EVENT_REVISION_ROW_CONFIG,
  "material-sample": MATERIAL_SAMPLE_REVISION_ROW_CONFIG
};</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In the Object Store module, mappings have been added for the "metadata" type.</p>
</li>
<li>
<p>In the Collection module, mappings have been added for the "collecting-event" and "material-sample" types.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the implementation of MATERIAL_SAMPLE_REVISION_ROW_CONFIG for examples of field renderers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_tests">7. Running Tests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_run_all_tests">7.1. Run all tests</h3>
<div class="paragraph">
<p>Run <code>yarn test</code> from the top-level dina-ui repo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_run_individual_tests">7.2. Run individual tests</h3>
<div class="paragraph">
<p>Either</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From VS Code: Install the <a href="https://marketplace.visualstudio.com/items?itemName=firsttris.vscode-jest-runner">Jest Runner</a> extension, which adds Run/Debug buttons to your test files.</p>
</li>
<li>
<p>From the command line:</p>
<div class="ulist">
<ul>
<li>
<p>Using just the file name: <code>yarn jest QueryTable.test.tsx</code></p>
</li>
<li>
<p>Using the full path (when there is more than one file with this name): <code>yarn jest packages/common-ui/lib/table/<em>tests</em>/QueryTable.test.tsx</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_versioning">8. Versioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dina UI&#8217;s version is stored in the dina-ui package&#8217;s package.json
(Not the repo&#8217;s top-level package.json). You can update this version when releasing a
new version of the application by running this command at the repo&#8217;s top level:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>yarn --cwd ./packages/dina-ui version</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_yarn_package_scripts">9. Yarn Package Scripts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_top_level_directory">9.1. Top-level directory</h3>
<div class="paragraph">
<p>Commands you can run from the root package:</p>
</div>
<div class="sect3">
<h4 id="_yarn_docs">9.1.1. <code>yarn docs</code></h4>
<div class="paragraph">
<p>Compiles the docs (written in <a href="https://asciidoctor.org/docs/what-is-asciidoc/">AsciiDoc</a>) as a
single HTML file in the "generated-docs" directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_test">9.1.2. <code>yarn test</code></h4>
<div class="paragraph">
<p>Runs the tests for all packages (without generating the test coverage reports).</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_testcoverage">9.1.3. <code>yarn test:coverage</code></h4>
<div class="paragraph">
<p>Runs the tests for all packages. Prints the test coverage report to stdout, and writes the coverage report files
into the "coverage" directory.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sub_package_directories">9.2. Sub-package directories</h3>
<div class="paragraph">
<p>Commands you can run from sub-packages:</p>
</div>
<div class="sect3">
<h4 id="_yarn_build">9.2.1. <code>yarn build</code></h4>
<div class="paragraph">
<p>Generates the production build.</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_dev">9.2.2. <code>yarn dev</code></h4>
<div class="paragraph">
<p>Runs the UI application at localhost:3000 in dev mode using <a href="https://github.com/zeit/next.js">Next.js</a>.
When you save a file, you can refresh the page to see your changes without restarting the app.
Note that this does not let the UI connect to the backend because there is no HTTP proxy set up. See
"https://github.com/poffm/dina-dev" for the full dev mode with a proxy.</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_next">9.2.3. <code>yarn next</code></h4>
<div class="paragraph">
<p>Runs the UI application at localhost:3000 in dev mode using <a href="https://github.com/zeit/next.js">Next.js</a>.
When you save a file, you can refresh the page to see your changes without restarting the app.
Note that this does not let the UI connect to the backend because there is no HTTP proxy set up. See
"https://github.com/poffm/dina-dev" for the full dev mode with a proxy.</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_test_2">9.2.4. <code>yarn test</code></h4>
<div class="paragraph">
<p>Runs the tests (without generating the test coverage report).</p>
</div>
</div>
<div class="sect3">
<h4 id="_yarn_testcoverage_2">9.2.5. <code>yarn test:coverage</code></h4>
<div class="paragraph">
<p>Runs the tests. Prints the test coverage report to stdout, and writes the coverage report files
into the "coverage" directory.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_the_app_docker_images">10. Building the app Docker images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From the top-level directory, run the yarn build and then the docker build:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">yarn
yarn workspace dina-ui build
docker build -t dina-ui:dev .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Docker environment variables required to run:</p>
</div>
<div class="paragraph">
<p>dina-ui:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OBJECTSTORE_API_ADDRESS: The back-end API URL and port. e.g. objectstore-api:8080</p>
</li>
<li>
<p>USER_API_ADDRESS: The back-end API URL and port. e.g. user-api:8080</p>
</li>
<li>
<p>COLLECTION_API_ADDRESS: The back-end API URL and port. e.g. collection-api:8080</p>
</li>
<li>
<p>AGENT_API_ADDRESS: The back-end API URL and port. e.g. agent-api:8080</p>
</li>
<li>
<p>SEQDB_API_ADDRESS: The back-end API URL and port. e.g. seqdb-api:8080</p>
</li>
<li>
<p>DISABLE_BROWSER_CHECK: (optional) Whether to disable the browser check for blocking Internet Explorer. e.g. true</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_react_components">11. React Components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_forms">11.1. Forms</h3>
<div class="paragraph">
<p>Forms can be made in this app using <a href="https://jaredpalmer.com/formik/">Formik</a> .</p>
</div>
<div class="paragraph">
<p>Our custom formik-integrated input field components can be found in /components/formik-connected.
These inputs should be easily re-usable throughout the app.</p>
</div>
<div class="paragraph">
<p>Example form that on submit either shows a success alert or an error message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { DinaForm, SubmitButton, TextField } from "../components";

export default function ExampleFormPage() {
  const onSubmit: DinaFormOnSubmit = async ({
    submittedValues,
    api: { save }
  }) =&gt; {
    if (!submittedValues.name) {
      throw new Error("Name must be set.");
    }

    // Makes a Create or Update call to the back-end.
    await save(
      [
        {
          resource: submittedValues,
          type: "my-type"
        }
      ],
      { apiBaseUrl: "/objectstore-api" }
    )
  }

  return (
    &lt;div className="card card-body" style={{ width: "1000px" }}&gt;
      &lt;DinaForm initialValues={{}} onSubmit={onSubmit}&gt;
        &lt;TextField name="name" /&gt;
        &lt;TextField name="description" /&gt;
        &lt;SubmitButton /&gt;
      &lt;/DinaForm&gt;
    &lt;/div&gt;
  );
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_getting_a_field_value_from_the_form">11.1.1. Getting a Field value from the form.</h4>
<div class="paragraph">
<p>Sometimes you will want to get a field&#8217;s value in one component without re-rendering the surrounding component. You can listen to a Field&#8217;s state using FieldSpy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { DinaForm, SubmitButton, TextField, FieldSpy } from "common-ui";

export default function ExampleFormPage() {
  return (
    &lt;div className="card card-body" style={{ width: "1000px" }}&gt;
      &lt;DinaForm initialValues={{}} onSubmit={onSubmit}&gt;
        &lt;TextField name="name" /&gt;
        &lt;FieldSpy fieldName="name"&gt;
          {value =&gt; `Your name is ${value}`}
        &lt;/FieldSpy&gt;
        &lt;SubmitButton /&gt;
      &lt;/DinaForm&gt;
    &lt;/div&gt;
  );
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tooltips">11.1.2. Tooltips</h4>
<div class="paragraph">
<p>The tooltip is found from the intl messages file using the key "field_{fieldName}_tooltip". As an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;TextField name="name" /&gt;
&lt;TextField name="description" /&gt;

// In the dina-ui-en.ts file:
field_name_tooltip: "This message will appear in the name fields tooltip."
field_description_tooltip: "This message will appear in the description fields tooltip."</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tooltip ids can also be manually added using the <code>customName</code> property. This can be handy for fields that share a common name like "description". Here is an example of using a custom tooltip id:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;TextField name="name" customName="metadataName" /&gt;

// In the dina-ui-en.ts file:
field_metadataName_tooltip: "This will be the message that appears for the name fields tooltip."</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are also able to add images and links using the following properties on any of the Field components. Below is a table of all of the different supported properties for images and links.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table Tooltip properties</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipImage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of a image to display in the tooltip. It is displayed under the tooltip texts (if supplied).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipImage="/images/tooltip_image.png"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipImageAlt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accessability text which should be used when a tooltipImage is provided. Best practice is to use internationalization key so it works in multiple languages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipImageAlt="tooltip_image_alt"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipLink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of a link to display at the bottom of the tooltip.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipLink="https//www.google.com"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipLinkText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text identifier to appear in the tooltip link text. Defaults to a generic message if not supplied.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tooltipLinkText="tooltip_link_reference"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_text_field_with_dropdown_suggestions">11.1.3. Text field with dropdown suggestions</h4>
<div class="paragraph">
<p>Using the <code>AutoSuggestTextField</code> component, you can provide a dropdown of suggestions for a text field as the user types.</p>
</div>
<div class="paragraph">
<p>The <code>AutoSuggestTextField</code> component supports JSON API and elastic search for auto-suggestions, you can even provide both and fallback to the JSON API if the elastic search fails for example.</p>
</div>
<div class="paragraph">
<p>Important: This is used for retrieving text suggestions. The form will be returned a string. Not a UUID for a resource. Checkout the <code>ResourceSelectField</code> for that functionality.</p>
</div>
<div class="sect4">
<h5 id="_json_api_example">JSON API example</h5>
<div class="paragraph">
<p>To configure the JSON API auto-suggestions, you need to setup the <code>jsonApiBackend</code> prop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  jsonApiBackend={{
    query: searchValue =&gt; ({
      path: "agent-api/person",
      filter: {
        rsql: `name==*${searchValue}*`
      }
    }),
    option: person =&gt; person?.name
  }}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>query</code> defines the path and any filters you wish to use. You can also easily retrieve the current search value to filter by.</p>
</div>
<div class="paragraph">
<p>The <code>option</code> is used to determine the text to display for each suggestion. This is also the value that is returned to the form.</p>
</div>
</div>
<div class="sect4">
<h5 id="_elastic_search_example">Elastic Search example</h5>
<div class="paragraph">
<p>To configure the Elastic Search auto-suggestions, you need to setup the <code>elasticSearchBackend</code> prop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  elasticSearchBackend={{
    indexName: "dina_agent_index",
    searchField: "data.attributes.name",
    option: person =&gt; person?.name
  }}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>indexName</code> is the name of the Elastic Search index to use. (required)
<code>searchField</code> is the name of the field to search in, this needs to be the full path. (required)
<code>additionalField</code> is another field to search by in addition to the search field. This also needs to the full path. (optional)
<code>restrictedField</code> is used to filter by a specific field in the index. This also needs to the full path. (optional)
<code>restrictedFieldValue</code> is the value to search against the restricted field. (optional)
<code>option</code> is used to determine the text to display for each suggestion. This is also the value that is returned to the form. (required)</p>
</div>
</div>
<div class="sect4">
<h5 id="_typescript_support">Typescript Support</h5>
<div class="paragraph">
<p>The <code>AutoSuggestTextField</code> component supports Typescript.
To use it, you need to import the <code>AutoSuggestTextField</code> component and pass it the type of the resource you are searching for.</p>
</div>
<div class="paragraph">
<p>For example for a Person (Kitsu Resource):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt; /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Providing the type, will make the option section of the component more specific:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  elasticSearchBackend={{
    indexName: "dina_agent_index",
    searchField: "data.attributes.name",
    option: person =&gt; person?.name // This part you can now say .name since the type was defined.
  }}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using an included search field, insure the type being used contains the field you are looking for. If it doesn&#8217;t exist on the
type it will not be parsed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_default_to_elastic_search_fall_back_to_json_api_example">Default to elastic search, fall back to JSON API example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  elasticSearchBackend={{
    indexName: "dina_agent_index",
    searchField: "data.attributes.name",
    option: person =&gt; person?.name
  }}
  jsonApiBackend={{
    query: searchValue =&gt; ({
      path: "agent-api/person",
      filter: {
        rsql: `name==*${searchValue}*`
      }
    }),
    option: person =&gt; person?.name
  }}
  preferredBackend={"elastic-search"} // Default to elastic search
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, both "elastic-search" and "json-api" are supplied. Elastic search will be used first and it will keep using elastic search until any errors occur.</p>
</div>
<div class="paragraph">
<p>Once an error occurs it will switch to the other available backend, in this case the "json-api".</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to make sure both providers work correctly since it will probably be rare that provider will fail.</p>
</div>
</div>
<div class="sect4">
<h5 id="_custom_options_example">Custom options example</h5>
<div class="paragraph">
<p>You can provide your own suggestions directly using the <code>customOptions</code> prop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  customOptions={value =&gt; [
    "suggestion-1",
    "suggestion-2",
    "suggestion-" + value
  ]}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example the following suggestions will be provided if the user types "3" into the text field:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>suggestion-1</p>
</li>
<li>
<p>suggestion-2</p>
</li>
<li>
<p>suggestion-3</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While you can provide static options, you can also call an API to populate these results or another function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField
  name={fieldProps("matchValue", index)}
  blankSearchBackend={"preferred"}
  customOptions={value =&gt;
    useElasticSearchDistinctTerm({
      fieldName:
        dataFromIndexMapping?.parentPath +
        "." +
        dataFromIndexMapping?.path +
        "." +
        dataFromIndexMapping?.label,
      groups: selectedGroups,
      relationshipType: dataFromIndexMapping?.parentName,
      indexName
    })?.filter(suggestion =&gt;
      suggestion?.toLowerCase()?.includes(value?.toLowerCase())
    )
  }
/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_blank_search_provider_example">Blank Search provider example</h5>
<div class="paragraph">
<p>You can even provide suggestions even if the text field is blank. Using the <code>blankSearchProvider</code> property, you can configure what happens during a blank search.</p>
</div>
<div class="paragraph">
<p>If you would like blank searches to occur with the current provider you can use the "preferred" option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  elasticSearchBackend={{
    indexName: "dina_agent_index",
    searchField: "data.attributes.name",
    option: person =&gt; person?.name
  }}
  jsonApiBackend={{
    query: searchValue =&gt; ({
      path: "agent-api/person",
      filter: {
        rsql: `name==*${searchValue}*`
      }
    }),
    option: person =&gt; person?.name
  }}
  preferredBackend={"elastic-search"}
  blankSearchBackend={"preferred"}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example elastic search is the default provider. On a blank search elastic search is used unless it fails then the JSON API is used.</p>
</div>
<div class="paragraph">
<p>Preferred is useful if you don&#8217;t care which backend provider is used for a blank search.</p>
</div>
<div class="paragraph">
<p>Otherwise you can specify a specific backend to use for blank searches, even if it differs from the currently selected one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;AutoSuggestTextField&lt;Person&gt;
  name="examplePersonNameField"
  elasticSearchBackend={{
    indexName: "dina_agent_index",
    searchField: "data.attributes.name",
    option: person =&gt; person?.name
  }}
  jsonApiBackend={{
    query: searchValue =&gt; ({
      path: "agent-api/person",
      filter: {
        rsql: `name==*${searchValue}*`
      }
    }),
    option: person =&gt; person?.name
  }}
  preferredBackend={"elastic-search"}
  blankSearchBackend={"json-api"}
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, elastic search is the default provider. On a blank search JSON API is used only if the search is blank.</p>
</div>
<div class="paragraph">
<p>If elastic search fails, then JSON API will be used for both blank and non-blank searches.</p>
</div>
<div class="paragraph">
<p>If you wish to not display any suggestions on a blank search, you can just remove the <code>blankSearchBackend</code> property and no suggestions will appear until a value is provided.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resource_select_field_component">11.2. Resource Select Field Component</h3>
<div class="paragraph">
<p>This is a searchable dropdown select component for selecting a back-end resource from a list.</p>
</div>
<div class="paragraph">
<p>Example usage for selecting a Group from a list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { DinaForm, ResourceSelectField } from "common-ui";
import { Group } from "../types/user-api/resources/Group";

/**
 * This page shows a dropdown for selecting a Group. You can type the name of a Group you're
 * looking for into the input, which sends a filtered query to the back-end API for a Group with
 * that name. When you select a Group, the onChange callback function sets the selected group into
 * the page's component state. The page displays a message with the name of the currently selected
 * Group.
 */
export default function ExamplePage() {
  return (
    &lt;div className="card card-body" style={{ width: "500px" }}&gt;
      &lt;DinaForm initialValues={{ myGroup: null }}&gt;
        {({ values: { myGroup } }) =&gt; (
          &lt;div&gt;
            &lt;h2&gt;Selected group: {myGroup ? myGroup.groupName : "None"}&lt;/h2&gt;
            &lt;ResourceSelectField&lt;Group&gt;
              name="myGroup"
              filter={groupName =&gt; ({ groupName })}
              model="group"
              optionLabel={group =&gt; group.groupName}
            /&gt;
          &lt;/div&gt;
        )}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filterbuilderfield_component">11.3. FilterBuilderField component</h3>
<div class="paragraph">
<p>The FilterBuilderField component provides a Formik input for creating complex filter queries.
The FilterGroupModel value this input provides can be converted to an RSQL string to inluded in
the API request.</p>
</div>
<div class="paragraph">
<p>Example usage for filtering PcrPrimers in a list page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { FilterParam } from "kitsu";
import { useState } from "react";
import { FilterBuilderField } from "../components/filter-builder/FilterBuilderField";
import { rsql } from "../components/filter-builder/rsql";
import Head from "../components/head";
import Nav from "../components/nav";
import { QueryTable } from "../components/table/QueryTable";
import { DinaForm, DinaFormOnSubmit } from "../components/formik-connected/DinaForm";

export default function ExamplePage() {
  const [filter, setFilter] = useState&lt;FilterParam&gt;();

  const onSubmit: DinaFormOnSubmit = ({ submittedvalues:  { filter } }) =&gt; {
    setFilter({ rsql: rsql(filter) });
  }

  return (
    &lt;div&gt;
      &lt;Head /&gt;
      &lt;Nav /&gt;
      &lt;div className="container-fluid"&gt;
        &lt;DinaForm initialValues={{}} onSubmit={onSubmit}&gt;
          &lt;FilterBuilderField
            filterAttributes={["name", "group.groupName"]}
            name="filter"
          /&gt;
          &lt;button type="submit"&gt;search&lt;/button&gt;
        &lt;/DinaForm&gt;
        &lt;QueryTable
          columns={["name", "type", "group.groupName"]}
          filter={filter}
          include="group"
          path="pcrPrimer"
        /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_api_client">12. API Client</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_usequery_hook_function">12.1. useQuery Hook Function</h3>
<div class="paragraph">
<p>useQuery is an API querying function using the <a href="https://reactjs.org/docs/hooks-intro.html">React Hooks API</a>.
You can use it to easily query the back-end from inside a function component.</p>
</div>
<div class="paragraph">
<p>Example usage for fetching a single resource:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { useQuery } from "../components";
import { PcrPrimer } from "../types/seqdb-api/resources/PcrPrimer";

function ExampleComponent() {
  const { error, loading, response } = useQuery&lt;PcrPrimer&gt;({ path: "pcrPrimer/1" });

  if (loading) {
    return &lt;div&gt;Loading...&lt;/div&gt;;
  } else if (error) {
    return &lt;ErrorInfo error={error} /&gt;;
  } else {
    return &lt;div&gt;Primer name: {response.data.name}&lt;/div&gt;;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example usage for fetching a resource list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { useQuery } from "../components";
import { PcrPrimer } from "../types/seqdb-api/resources/PcrPrimer";

function ExampleComponent() {
  const { error, loading, response } = useQuery&lt;PcrPrimer[]&gt;({ path: "pcrPrimer" });

  if (loading) {
    return &lt;div&gt;Loading...&lt;/div&gt;;
  } else if (error) {
    return &lt;ErrorInfo error={error} /&gt;;
  } else {
    return (
      &lt;div&gt;
        {response.data.map(primer =&gt; (
          &lt;PcrPrimerInfo key={primer.id} primer={primer} /&gt;
        ))}
      &lt;/div&gt;
    );
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the "withResponse" helper function to render generic loading and error components with minimal code,
instead of writing if/else blocks for each state:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { useQuery, withResponse } from "../components";
import { PcrPrimer } from "../types/seqdb-api/resources/PcrPrimer";

function ExampleComponent() {
  const primerQuery = useQuery&lt;PcrPrimer[]&gt;({ path: "pcrPrimer" });

  return withResponse(primerQuery, ({ data: primers }) =&gt; (
    &lt;div&gt;
      {primers.map(primer =&gt; (
        &lt;PcrPrimerInfo key={primer.id} primer={primer} /&gt;
      ))}
    &lt;/div&gt;
  ));
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performing_write_operations">12.2. Performing write operations</h3>
<div class="paragraph">
<p>This application uses React&#8217;s hooks and context API to provide a "save" function which allows
you to perform write operations against the back-end API. "save" accepts an array of
operations to perform, so you can submit multiple resource operations in a single transaction
in a single HTTP request.</p>
</div>
<div class="paragraph">
<p>If one operation fails, the entire transaction is cancelled, and "save" throws an Error,
which provides an aggregation message of all of the error messages. This function relies on the back-end to
support JSONAPI&#8217;s jsonpatch extension (implemented by crnk-operations).</p>
</div>
<div class="paragraph">
<p>Here is a simple example of a component that uses the "save" function from the context to
provide a button that creates a new Region with a random name and symbol:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import React from "react";
import { useApiClient } from "common-ui";

export funcion NewRegionButton() {
  const { save } = useApiClient();

  async function createRegion() {
    await save(
      [
        {
          resource: {
            name: `new-region-${Math.random()}`,
            seq: "",
            symbol: `${Math.random()}`,
            type: "PRIMER"
          },
          type: "region"
        }
      ],
      { apiBaseUrl: "/seqdb-api" }
    );
  };

  return &lt;button onClick={this.createRegion}&gt;Create Region&lt;/button&gt;;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_internationalization">13. Internationalization</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_internationalization_multiple_languages_support">13.1. Internationalization / Multiple Languages Support</h3>
<div class="paragraph">
<p>This application can display messages in multiple languages using
<a href="https://github.com/yahoo/react-intl">react-intl</a>.</p>
</div>
<div class="sect3">
<h4 id="_message_components">13.1.1. Message components</h4>
<div class="paragraph">
<p>When developing UI, you should not hard-code messages into the UI, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">&lt;h2&gt;PCR Primers&lt;/h2&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should instead reference a message key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { DinaMessage } from "../../intl/dina-intl.ts""

...

&lt;h2&gt;&lt;DinaMessage id="pcrPrimerListTitle" /&gt;&lt;/h2&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_formatmessage_function">13.1.2. formatMessage function</h4>
<div class="paragraph">
<p>You can also use the "formatMessage" function if you want to reference a message outside of a JSX tree:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">import { useDinaIntl } from "../../dina-intl.ts""

function MyComponent() {
  const { formatMessage } = useDinaIntl();

  useEffect(() =&gt; {
    alert(formatMessage("greeting"));
  }, []);

  return (
    &lt;div&gt;...&lt;/div&gt;
  );
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_defining_messages">13.1.3. Defining messages</h4>
<div class="paragraph">
<p>The actual text for these messages needs to be defined in a messages file, like dina-en.ts. Each UI app
( dina-ui is the only UI app at the moment ) should have its own messages files. common-ui has its
own messages files for shared messages used by multiple apps.</p>
</div>
<div class="paragraph">
<p>dina-en.ts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">export const DINA_MESSAGES_ENGLISH = {
  ...
  greeting: "Hello!"
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Type-checking is enabled so the message ID passed into "DinaMessage" or "formatMessage" MUST be a key
in at least the English messages file. To add a French (or other language) translation
for a message, the English version of the message must already be defined. The UI uses the English
translation as a fallback if the message has no translation for the user&#8217;s locale.</p>
</div>
<div class="paragraph">
<p>Example from dina-fr.ts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">export const DINA_MESSAGES_FRENCH: Partial&lt;typeof DINA_MESSAGES_ENGLISH&gt; = {
  ...
  greeting: "Bonjour!", // If the key exists in the english messages file, Typescript allows it.
  otherKey: "C'est un autre message." // If "otherKey" isn't a key in the English messages, this should show an error in your IDE.
  ...
};</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_field_label_messages">13.1.4. Field label messages</h4>
<div class="paragraph">
<p>Some components, like QueryTable, FilterBuilder and FieldWrapper (which wraps our Formik input components)
take in a list of field names ( e.g. ["name","version","group.groupName"] ) and display auto-generated title-case
labels of these field names ( e.g. Name, Version, Group Group Name ). Sometimes the auto-generated labels need to
be manually overridden, so you can define custom messages for these labels using the <code>field_${fieldName}</code> key format.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">export const DINA_MESSAGES_ENGLISH = {
  ...
  field_name: "Name",
  "field_group.groupName": "Group Name",
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">export const DINA_MESSAGES_FRENCH: Partial&lt;typeof DINA_MESSAGES_ENGLISH&gt; = {
  ...
  field_name: "Nom",
  "field_group.groupName": "Nom de Groupe"
  ...
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_field_tooltip_messages">Field tooltip messages</h5>
<div class="paragraph">
<p>You can add an additional tooltip message to go inside the Field Label after the field name.
After adding the field label message, add a tooltip message by adding "_tooltip" to the end of
the field label&#8217;s message.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">export const DINAUI_MESSAGES_ENGLISH = {
  ...
  field_publiclyReleasable: "Publicly releasable",
  field_publiclyReleasable_tooltip:
    "Indicates if the object could be released publicly on a web page or open data portals.",
  ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_export_messages_as_csv">13.1.5. Export messages as CSV</h4>
<div class="paragraph">
<p>Run the following command to export the messages in CSV format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd ./packages/scripts
yarn --silent export-intl-csv &gt; messages.csv</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_import_csv_files_to_update_typescript_message_files">13.1.6. Import CSV files to update Typescript message files</h4>
<div class="paragraph">
<p>Run the following command after editing your CSV file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd ./packages/scripts
CSVFILE=messages.csv yarn import-intl-csv</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wcag_compliance_tools_setup">14. WCAG compliance tools setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pa11y">14.1. Pa11y</h3>
<div class="ulist">
<ul>
<li>
<p>Install Pa11y</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>git clone https://github.com/pa11y/pa11y.git
cd pa11y</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Run Pa11y for multiple pages</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>copy below example multiple.js file to pa11y dir</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// An example of running Pa11y on multiple URLS
'use strict';

const pa11y = require('.');

runExample();

// Async function required for us to use await
async function runExample() {
        try {

                // Put together some options to use in each test
                const options = {
                        log: {
                                debug: console.log,
                                error: console.error,
                                info: console.log
                        }
                };

                // Run tests against multiple URLs
                const results = await Promise.all([
                        pa11y('http://localhost:8000/product/list', options),
                        pa11y('http://localhost:8000/product/edit?id=1', options),
                        pa11y('http://localhost:8000/product/view?id=1', options)

                ]);

        } catch (error) {

                // Output an error if it occurred
                console.error(error.message);

        }
}</pre>
</div>
</div>
<div class="paragraph">
<p>run below</p>
</div>
<div class="listingblock">
<div class="content">
<pre>node multiple.js &gt; WCAGreports.txt</pre>
</div>
</div>
<div class="paragraph">
<p>WCAGreports.txt will be generated for all the elements on all pages that have WCAG compliant issues.</p>
</div>
<div class="paragraph">
<p>Part of the example output report will be like below</p>
</div>
<div class="listingblock">
<div class="content">
<pre> {
      code: 'WCAG2AA.Principle4.Guideline4_1.4_1_2.H91.InputText.Name',
      context: '&lt;input class="form-control" type="text" value=""&gt;',
      message: 'This textinput element does not have a name available to an accessibility API. Valid names are: label element, title undefined, aria-label undefined, aria-labelledby undefined.',
      type: 'error',
      typeCode: 1,
      selector: '#__next &gt; div &gt; div &gt; div &gt; div &gt; form &gt; div:nth-child(2) &gt; div:nth-child(3) &gt; div:nth-child(2) &gt; div &gt; input'
    },
    {
      code: 'WCAG2AA.Principle1.Guideline1_3.1_3_1.F68',
      context: '&lt;input class="form-control" type="text" value=""&gt;',
      message: 'This form field should be labelled in some way. Use the label element (either with a "for" attribute or wrapped around the form field), or "title", "aria-label" or "aria-labelledby" attributes as appropriate.',
      type: 'error',
      typeCode: 1,
      selector: '#__next &gt; div &gt; div &gt; div &gt; div &gt; form &gt; div:nth-child(2) &gt; div:nth-child(3) &gt; div:nth-child(2) &gt; div &gt; input'
    },</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_chrome_inspector">14.2. Chrome Inspector</h3>
<div class="paragraph">
<p>To have a visual feedback of which html element has violated the WCAG rule,use Chrome Inspector</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Download the Chrome stable version</p>
</li>
<li>
<p>Launch a page, e.g, <a href="http://localhost:8000/product/list" class="bare">http://localhost:8000/product/list</a></p>
</li>
<li>
<p>Press F12 to lauch the chome devTools</p>
</li>
<li>
<p>Go to audit tab, check the "accessibility" checkbox and press "run audit" button</p>
</li>
<li>
<p>A report is shown for the page regarding the WCAG validation and the elements that have WCAG compliance issue.</p>
</li>
<li>
<p>Click on the element, you can visually see the issue on premise.</p>
</li>
<li>
<p>After fix specific issue, rerun the audit report to verify the issue is gone</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pa11y_ci_automation">15. Pa11y-ci automation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We used pa11y-ci to automate the WCAG compliance detection and
pa11y-ci-reporter-html to generate report of configured level of severity with good readability.</p>
</div>
<div class="sect2">
<h3 id="_follow_below_steps_in_sequence">15.1. Follow below steps in sequence</h3>
<div class="sect3">
<h4 id="_go_to_packagesdina_ui_for_object_store_ui_packagesseqdb_ui_for_seqdb_ui">15.1.1. Go to packages/dina-ui for object store UI ( packages/seqdb-ui for seqdb UI )</h4>
<div class="paragraph">
<p><code>cd packages/dina-ui</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_check_compliance_for_all_configured_pages_and_output_json_format_results">15.1.2. Check compliance for all configured pages and output json format results</h4>
<div class="paragraph">
<p><code>yarn a11y-check</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_generate_user_fridendly_html_report_based_on_above_results">15.1.3. Generate user fridendly html report based on above results</h4>
<div class="paragraph">
<p><code>yarn a11y-generate-report</code></p>
</div>
<div class="paragraph">
<p>Note for linux user, due to a bug in pa11y-ci-html-reporter npm package,  will need to run below first:</p>
</div>
<div class="paragraph">
<p><code>sudo apt install dos2unix</code></p>
</div>
<div class="paragraph">
<p><code>dos2unix /home/shemy/git/dina-ui/node_modules/pa11y-ci-reporter-html/bin/pa11y-ci-reporter-html.js</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_know_issues">15.1.4. Know issues</h4>
<div class="paragraph">
<p>Due to the pa11y implementation, in order to get all compliance level report (A, AA  are the currentl AAFC scope), one will need to change the .pa11yci file to manually switch between the A and AA  to cover both,as the script takes one arg only.</p>
</div>
<div class="paragraph">
<p>e.g, modify the .pa11yci file to change Standards: "WCAG2AA" to Standards: "WCAG2A", as Standards: "WCAG2AA" is the default, and WCAG2AAA is out of scope as of writting the doc.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_translation_task">16. Translation task</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_to_export_to_csv_file">16.1. To export to csv file</h3>
<div class="ulist">
<ul>
<li>
<p>To get the net items for translation ( instead of sending all entries in the file with some items having blank French translation), add a filter in messages-csv-export.ts as in below line:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-tsx" data-lang="tsx">const rows = keys.filter(key =&gt; english.messages[key] &amp;&amp; (french.messages[key] === undefined ||
      french.messages[key]?.trim().length === 0 ||
    french.messages[key] === null )
    ).map&lt;CsvRow&gt;(key =&gt; ({</code></pre>
</div>
</div>
<div class="paragraph">
<p>run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd ./packages/scripts
yarn --silent export-intl-csv &gt; messages.csv</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Open the csv and save as xlsx file, make sure the xlsx is able to be previewed</p>
</li>
<li>
<p>Go to the translation site and clone the previous project (or create a new project), upload the xlsx file and submit, when translation is received or done, an email will be sent to the contact email.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_to_import_from_translated_csv_file">16.2. To import from translated csv file</h3>
<div class="ulist">
<ul>
<li>
<p>Go to the translation site and download the target translated file</p>
</li>
<li>
<p>Make sure the column header has <code>french</code> instead of <code>franais</code></p>
</li>
<li>
<p>Open the file in windows excel and save it as <code>CSV (Comma delimited)</code> file.</p>
</li>
<li>
<p>Import the file into the <code>/packages/script</code> directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd ./packages/scripts
CSVFILE=messages.csv yarn import-intl-csv</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Verify there are no unexpected characters, e.g apostrophe are the same as existing ones etc.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-09-03 11:57:41 UTC
</div>
</div>
</body>
</html>