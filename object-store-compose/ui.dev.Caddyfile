http://:80

# Proxy to the front-end:
reverse_proxy / {$UI_DEV_SERVER_ADDRESS}
reverse_proxy /favicon.ico {$UI_DEV_SERVER_ADDRESS}
reverse_proxy /_next/* {$UI_DEV_SERVER_ADDRESS}

# Provide the Keycloak config to the front-end code:
respond /keycloak.json "{ \"resource\": \"{$KEYCLOAK_CLIENTID}\", \"realm\": \"{$KEYCLOAK_REALM}\", \"auth-server-url\": \"{$KEYCLOAK_PUBLIC_URL}\" }"

# Proxy to the back-end API:
reverse_proxy /api/* {$OBJECTSTORE_API_ADDRESS}

reverse_proxy /* {$UI_DEV_SERVER_ADDRESS}
